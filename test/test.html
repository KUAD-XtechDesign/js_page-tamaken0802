<!DOCTYPE html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <title>Three.js</title>
</head>
<body>
    <canvas id="c"></canvas>
</body>

<script type="module">
    import * as THREE from './three.module.js';
    import { GLTFLoader } from './GLTFLoader.js'; //GLTFLoaderの中身も書き換える

    function main() {
      const canvas = document.querySelector('#c');
      const renderer = new THREE.WebGLRenderer({canvas});

      const fov = 75;
      const aspect = 2;
      const near = 0.1;
      const far = 5;
      const camera = new THREE.PerspectiveCamera(fov, aspect, near, far);
      camera.position.set(0, 0, 5);

      const scene = new THREE.Scene();

      const gltfLoader = new GLTFLoader();
      const url = './box.glb'; // glbファイルへのパス
      gltfLoader.load(url, (gltf) => {
        const root = gltf.scene;
        scene.add(root);
      });

      const color = 0xFFFFFF;
      const intensity = 1;
      const light = new THREE.DirectionalLight(color, intensity);
      light.position.set(-1, 2, 4);
      scene.add(light);

      function render() {
        renderer.render(scene, camera);
        requestAnimationFrame(render);
      }

      render();
    }

main();
</script>
</html>
